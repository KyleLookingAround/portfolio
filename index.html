<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Gigs Tracker</title>
  <style>
    /* Reset some default styles */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
      padding: 20px;
      color: #333;
    }

    h1 {
      text-align: center;
      margin-bottom: 20px;
      color: #2c3e50;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }

    form {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 20px;
    }

    form input, form select, form button {
      padding: 10px;
      font-size: 16px;
    }

    form input, form select {
      flex: 1 1 200px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }

    form button {
      background-color: #3498db;
      color: #fff;
      border: none;
      cursor: pointer;
      border-radius: 4px;
      flex: 1 1 100px;
    }

    form button:hover {
      background-color: #2980b9;
    }

    .gigs-section {
      margin-bottom: 30px;
    }

    .gigs-section h2 {
      margin-bottom: 10px;
      color: #34495e;
    }

    .gig {
      background: #ecf0f1;
      padding: 15px;
      margin-bottom: 10px;
      border-radius: 4px;
      display: flex;
      flex-direction: column;
    }

    .gig div {
      margin-bottom: 5px;
    }

    .rating {
      color: #f1c40f;
    }

    .export-btn {
      display: block;
      width: 100%;
      padding: 10px;
      background-color: #2ecc71;
      color: #fff;
      border: none;
      border-radius: 4px;
      font-size: 16px;
      cursor: pointer;
      text-align: center;
    }

    .export-btn:hover {
      background-color: #27ae60;
    }

    @media (min-width: 600px) {
      form {
        flex-wrap: nowrap;
      }

      .gig {
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
      }

      .gig div {
        margin-bottom: 0;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Gigs & Festivals Tracker</h1>
    <form id="gig-form">
      <input type="text" id="gig-name" placeholder="Gig/Festival Name" required>
      <input type="text" id="gig-location" placeholder="Location" required>
      <input type="date" id="gig-date" required>
      <select id="gig-rating" required>
        <option value="" disabled selected>Rating</option>
        <option value="‚≠ê">‚≠ê</option>
        <option value="‚≠ê‚≠ê">‚≠ê‚≠ê</option>
        <option value="‚≠ê‚≠ê‚≠ê">‚≠ê‚≠ê‚≠ê</option>
        <option value="‚≠ê‚≠ê‚≠ê‚≠ê">‚≠ê‚≠ê‚≠ê‚≠ê</option>
        <option value="‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</option>
      </select>
      <button type="submit">Add Gig</button>
    </form>

    <div class="gigs-section">
      <h2>Upcoming Gigs</h2>
      <div id="upcoming-gigs">
        <!-- Upcoming gigs will appear here -->
      </div>
    </div>

    <div class="gigs-section">
      <h2>Past Gigs</h2>
      <div id="past-gigs">
        <!-- Past gigs will appear here -->
      </div>
    </div>

    <button class="export-btn" id="export-btn">Export Gigs</button>
  </div>

  <script>
    // Select elements
    const gigForm = document.getElementById('gig-form');
    const gigNameInput = document.getElementById('gig-name');
    const gigLocationInput = document.getElementById('gig-location');
    const gigDateInput = document.getElementById('gig-date');
    const gigRatingInput = document.getElementById('gig-rating');
    const upcomingGigsDiv = document.getElementById('upcoming-gigs');
    const pastGigsDiv = document.getElementById('past-gigs');
    const exportBtn = document.getElementById('export-btn');

    // Retrieve gigs from localStorage or initialize empty array
    let gigs = JSON.parse(localStorage.getItem('gigs')) || [];

    // Function to save gigs to localStorage
    function saveGigs() {
      localStorage.setItem('gigs', JSON.stringify(gigs));
    }

    // Function to render gigs
    function renderGigs() {
      // Clear current lists
      upcomingGigsDiv.innerHTML = '';
      pastGigsDiv.innerHTML = '';

      const today = new Date().setHours(0,0,0,0);

      // Sort gigs by date
      gigs.sort((a, b) => new Date(a.date) - new Date(b.date));

      gigs.forEach(gig => {
        const gigDate = new Date(gig.date).setHours(0,0,0,0);
        const gigDiv = document.createElement('div');
        gigDiv.classList.add('gig');

        const infoDiv = document.createElement('div');
        infoDiv.innerHTML = `<strong>${gig.name}</strong><br>
                             Location: ${gig.location}<br>
                             Date: ${new Date(gig.date).toLocaleDateString()}<br>
                             Rating: <span class="rating">${gig.rating}</span>`;

        // Optional: Add delete button
        const deleteBtn = document.createElement('button');
        deleteBtn.textContent = 'Delete';
        deleteBtn.style.backgroundColor = '#e74c3c';
        deleteBtn.style.color = '#fff';
        deleteBtn.style.border = 'none';
        deleteBtn.style.padding = '5px 10px';
        deleteBtn.style.borderRadius = '4px';
        deleteBtn.style.cursor = 'pointer';
        deleteBtn.addEventListener('click', () => {
          if(confirm('Are you sure you want to delete this gig?')) {
            gigs = gigs.filter(item => item.id !== gig.id);
            saveGigs();
            renderGigs();
          }
        });

        gigDiv.appendChild(infoDiv);
        gigDiv.appendChild(deleteBtn);

        if(gigDate >= today) {
          upcomingGigsDiv.appendChild(gigDiv);
        } else {
          pastGigsDiv.appendChild(gigDiv);
        }
      });
    }

    // Handle form submission
    gigForm.addEventListener('submit', (e) => {
      e.preventDefault();

      const name = gigNameInput.value.trim();
      const location = gigLocationInput.value.trim();
      const date = gigDateInput.value;
      const rating = gigRatingInput.value;

      if(!name || !location || !date || !rating) {
        alert('Please fill in all fields.');
        return;
      }

      const newGig = {
        id: Date.now(),
        name,
        location,
        date,
        rating
      };

      gigs.push(newGig);
      saveGigs();
      renderGigs();

      // Clear form
      gigForm.reset();
    });

    // Handle export
    exportBtn.addEventListener('click', () => {
      if(gigs.length === 0) {
        alert('No gigs to export.');
        return;
      }

      const upcoming = [];
      const past = [];
      const today = new Date().setHours(0,0,0,0);

      gigs.forEach(gig => {
        const gigDate = new Date(gig.date).setHours(0,0,0,0);
        const gigInfo = `üé§ ${gig.name}\nüìç ${gig.location}\nüìÖ ${new Date(gig.date).toLocaleDateString()}\n‚≠ê Rating: ${gig.rating}\n`;
        if(gigDate >= today) {
          upcoming.push(gigInfo);
        } else {
          past.push(gigInfo);
        }
      });

      let exportText = `üìÖ *My Gigs & Festivals*\n\n`;

      if(upcoming.length > 0) {
        exportText += `üîú *Upcoming Gigs:*\n`;
        exportText += upcoming.join('\n') + '\n\n';
      }

      if(past.length > 0) {
        exportText += `üîô *Past Gigs:*\n`;
        exportText += past.join('\n') + '\n';
      }

      // Create a temporary textarea to copy text
      const tempTextarea = document.createElement('textarea');
      tempTextarea.value = exportText;
      document.body.appendChild(tempTextarea);
      tempTextarea.select();
      document.execCommand('copy');
      document.body.removeChild(tempTextarea);

      alert('Gigs exported to clipboard! You can now paste it on social media.');
    });

    // Initial render
    renderGigs();
  </script>
</body>
</html>
