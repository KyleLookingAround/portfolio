<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UK-based Software Engineer Portfolio</title>
    <link 
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" 
        rel="stylesheet" 
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoA7HVDd8H+uaKcZ6OEdqF0wZpA+IWK5CIjSLbZbGx3+M78" 
        crossorigin="anonymous">
    <link 
        rel="stylesheet" 
        href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <style>
        /* General Styles */
        body {
            font-family: Arial, sans-serif;
            transition: background-color 0.3s, color 0.3s;
            padding-bottom: 70px; /* Prevent content from being hidden behind the nav */
        }
        .dark-mode {
            background-color: #121212;
            color: #ffffff;
        }
        .section-heading {
            text-align: center;
            margin-bottom: 2rem;
            font-size: 2rem;
            position: relative;
            display: inline-block;
        }
        .section-heading::after {
            content: '';
            width: 50px;
            height: 3px;
            background: #0d6efd;
            display: block;
            margin: 0.5rem auto 0;
        }
        .carousel-item {
            text-align: center;
        }
        .testimonial-card {
            padding: 1.5rem;
            background: #f8f9fa;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .dark-mode .testimonial-card {
            background: #1e1e1e;
        }
        /* Bottom Sticky Nav Bar */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            width: 100%;
            background-color: #ffffff;
            border-top: 1px solid #dee2e6;
            z-index: 1000;
            display: flex;
            justify-content: space-around;
            padding: 0.5rem 0;
            height: 60px; /* Fixed height for padding */
        }
        .bottom-nav a {
            color: #0d6efd;
            text-decoration: none;
            font-size: 1.2rem;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .bottom-nav a.active, .bottom-nav a:hover {
            color: #0a58ca;
        }
        .dark-mode .bottom-nav {
            background-color: #343a40;
            border-top: 1px solid #495057;
        }
        .dark-mode .bottom-nav a {
            color: #adb5bd;
        }
        .dark-mode .bottom-nav a.active, .dark-mode .bottom-nav a:hover {
            color: #ffffff;
        }
        /* Responsive Adjustments */
        @media (max-width: 576px) {
            .section-heading {
                font-size: 1.5rem;
            }
            .bottom-nav a {
                font-size: 1rem;
            }
            .gig-card {
                padding: 0.75rem;
            }
        }
        /* Additional Styles */
        .portfolio-item {
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }
        .portfolio-item img {
            width: 100%;
            height: auto;
            transition: transform 0.3s;
        }
        .portfolio-item:hover img {
            transform: scale(1.1);
        }
        .portfolio-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(13, 110, 253, 0.8);
            color: #ffffff;
            opacity: 0;
            transition: opacity 0.3s;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 1rem;
        }
        .portfolio-item:hover .portfolio-overlay {
            opacity: 1;
        }
        .gig-card {
            padding: 1rem;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            background: #f8f9fa;
            transition: background 0.3s;
        }
        .dark-mode .gig-card {
            background: #1e1e1e;
            border-color: #495057;
        }
        .gig-date {
            font-weight: bold;
        }
        .dark-mode .gig-description {
            color: #ffffff;
        }
        /* Contact Form Styles */
        .card-custom {
            background: #ffffff;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: background 0.3s;
        }
        .dark-mode .card-custom {
            background: #1e1e1e;
            box-shadow: 0 4px 6px rgba(255,255,255,0.1);
        }
        /* Footer Styles */
        footer {
            background: #f8f9fa;
            padding: 1rem 0;
        }
        .dark-mode footer {
            background: #343a40;
            color: #ffffff;
        }
    </style>
</head>
<body>
    <!-- Dark Mode Toggle -->
    <div class="form-check form-switch m-3">
        <input class="form-check-input" type="checkbox" id="darkModeSwitch">
        <label class="form-check-label" for="darkModeSwitch" data-key="dark_mode_label">Dark Mode</label>
    </div>

    <!-- Greeting and Visitor Name -->
    <section id="home" class="container text-center py-5">
        <h1 data-key="greeting">Hello!</h1>
        <p data-key="welcome_message">Welcome to my portfolio.</p>
        <form id="visitor-name-form" class="d-flex justify-content-center mt-3">
            <input type="text" class="form-control w-50" id="visitor-name-input" placeholder="Enter your name">
            <button type="submit" class="btn btn-primary ms-2" data-key="submit_button">Submit</button>
        </form>
        <p class="mt-2" data-key="personalized_greeting" id="visitorNamePlaceholder"></p>
    </section>

    <!-- About Section -->
    <section id="about" class="container py-5">
        <h2 class="section-heading" data-key="about_title">About Me</h2>
        <div class="card-custom">
            <p data-key="about_description">
                I'm a UK-based Software Engineer with a passion for developing innovative programs that expedite the efficiency and effectiveness of organizational success.
                Well-versed in technology and writing code to create reliable and user-friendly systems.
            </p>
        </div>
    </section>

    <!-- Skills Section -->
    <section id="skills-section" class="container py-5">
        <h2 class="section-heading" data-key="skills_title">Skills</h2>
        <div class="card-custom">
            <div class="chart-container" style="position: relative; height:40vh; width:80vw; max-width:600px; margin: auto;">
                <canvas id="skillChart"></canvas>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section id="faq-section" class="container py-5">
        <h2 class="section-heading" data-key="faq_title">Frequently Asked Questions</h2>
        <div class="card-custom">
            <div class="faq-item mb-2">
                <div class="faq-question collapsed" data-bs-toggle="collapse" data-bs-target="#faq1" data-key="faq1_question">
                    What technologies do you specialize in?
                </div>
                <div id="faq1" class="faq-answer collapse" data-key="faq1_answer">
                    I specialize in backend development using C#, SQL, and modern web technologies like JavaScript and Node.js.
                </div>
            </div>
            <div class="faq-item mb-2">
                <div class="faq-question collapsed" data-bs-toggle="collapse" data-bs-target="#faq2" data-key="faq2_question">
                    How do you handle project deadlines?
                </div>
                <div id="faq2" class="faq-answer collapse" data-key="faq2_answer">
                    I prioritize tasks effectively, communicate transparently with stakeholders, and utilize project management tools to ensure deadlines are met.
                </div>
            </div>
            <div class="faq-item mb-2">
                <div class="faq-question collapsed" data-bs-toggle="collapse" data-bs-target="#faq3" data-key="faq3_question">
                    Can you work remotely?
                </div>
                <div id="faq3" class="faq-answer collapse" data-key="faq3_answer">
                    Yes, I have extensive experience working remotely and can collaborate effectively with teams across different time zones.
                </div>
            </div>
            <div class="faq-item mb-2">
                <div class="faq-question collapsed" data-bs-toggle="collapse" data-bs-target="#faq4" data-key="faq4_question">
                    Do you offer support after project completion?
                </div>
                <div id="faq4" class="faq-answer collapse" data-key="faq4_answer">
                    Absolutely, I provide ongoing support and maintenance to ensure that your projects continue to run smoothly.
                </div>
            </div>
            <div class="faq-item mb-2">
                <div class="faq-question collapsed" data-bs-toggle="collapse" data-bs-target="#faq5" data-key="faq5_question">
                    What is your approach to learning new technologies?
                </div>
                <div id="faq5" class="faq-answer collapse" data-key="faq5_answer">
                    I stay updated with industry trends, engage in continuous learning through courses and projects, and actively participate in developer communities.
                </div>
            </div>
        </div>
    </section>

    <!-- Portfolio Gallery Section -->
    <section id="portfolio-section" class="container py-5">
        <h2 class="section-heading" data-key="portfolio_title">Portfolio</h2>
        <div class="row g-4">
            <!-- Portfolio Item 1 -->
            <div class="col-md-6 col-lg-4">
                <div class="portfolio-item">
                    <img src="https://via.placeholder.com/400x300" alt="Project 1" class="img-fluid lazy" data-key="portfolio1_image_alt">
                    <div class="portfolio-overlay">
                        <h5 data-key="portfolio1_title">Project Title 1</h5>
                        <p data-key="portfolio1_description">Short description of Project 1.</p>
                        <a href="#" class="btn btn-light btn-sm" data-key="portfolio1_view">View Project</a>
                    </div>
                </div>
            </div>
            <!-- Portfolio Item 2 -->
            <div class="col-md-6 col-lg-4">
                <div class="portfolio-item">
                    <img src="https://via.placeholder.com/400x300" alt="Project 2" class="img-fluid lazy" data-key="portfolio2_image_alt">
                    <div class="portfolio-overlay">
                        <h5 data-key="portfolio2_title">Project Title 2</h5>
                        <p data-key="portfolio2_description">Short description of Project 2.</p>
                        <a href="#" class="btn btn-light btn-sm" data-key="portfolio2_view">View Project</a>
                    </div>
                </div>
            </div>
            <!-- Portfolio Item 3 -->
            <div class="col-md-6 col-lg-4">
                <div class="portfolio-item">
                    <img src="https://via.placeholder.com/400x300" alt="Project 3" class="img-fluid lazy" data-key="portfolio3_image_alt">
                    <div class="portfolio-overlay">
                        <h5 data-key="portfolio3_title">Project Title 3</h5>
                        <p data-key="portfolio3_description">Short description of Project 3.</p>
                        <a href="#" class="btn btn-light btn-sm" data-key="portfolio3_view">View Project</a>
                    </div>
                </div>
            </div>
            <!-- Add more portfolio items as needed -->
        </div>
    </section>

    <!-- Gig Tracker Section -->
    <section id="gig-section" class="container py-5">
        <h2 class="section-heading" data-key="gig_title">Gig Tracker</h2>
        <div class="card-custom">
            <input type="text" class="form-control gig-search mb-3" id="gigSearch" placeholder="Search by location..." data-key="gig_search_placeholder">
            <button class="btn btn-secondary mb-3" id="clearSearchBtn" data-key="gig_clear_search">Clear Search</button>
            <ul class="nav nav-tabs mb-3" id="gigTabs" role="tablist">
                <li class="nav-item">
                    <button class="nav-link active" id="past2024-tab" data-bs-toggle="tab" data-bs-target="#past2024" type="button" role="tab" aria-controls="past2024" aria-selected="true" data-key="gig_past_2024">Past Gigs (2024)</button>
                </li>
                <li class="nav-item">
                    <button class="nav-link" id="festivals-tab" data-bs-toggle="tab" data-bs-target="#festivals" type="button" role="tab" aria-controls="festivals" aria-selected="false" data-key="gig_festivals">Past Festivals</button>
                </li>
                <li class="nav-item">
                    <button class="nav-link" id="upcoming2024-tab" data-bs-toggle="tab" data-bs-target="#upcoming2024" type="button" role="tab" aria-controls="upcoming2024" aria-selected="false" data-key="gig_upcoming_2024">Upcoming (2024)</button>
                </li>
                <li class="nav-item">
                    <button class="nav-link" id="upcoming2025-tab" data-bs-toggle="tab" data-bs-target="#upcoming2025" type="button" role="tab" aria-controls="upcoming2025" aria-selected="false" data-key="gig_upcoming_2025">Upcoming (2025)</button>
                </li>
            </ul>
            <div class="tab-content" id="gigTabContent">
                <div class="tab-pane fade show active" id="past2024" role="tabpanel" aria-labelledby="past2024-tab"></div>
                <div class="tab-pane fade" id="festivals" role="tabpanel" aria-labelledby="festivals-tab"></div>
                <div class="tab-pane fade" id="upcoming2024" role="tabpanel" aria-labelledby="upcoming2024-tab"></div>
                <div class="tab-pane fade" id="upcoming2025" role="tabpanel" aria-labelledby="upcoming2025-tab"></div>
            </div>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section id="testimonials-section" class="container py-5">
        <h2 class="section-heading" data-key="testimonials_title">Testimonials</h2>
        <div id="testimonialsCarousel" class="carousel slide" data-bs-ride="carousel">
            <!-- Indicators -->
            <div class="carousel-indicators">
                <button type="button" data-bs-target="#testimonialsCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Testimonial 1"></button>
                <button type="button" data-bs-target="#testimonialsCarousel" data-bs-slide-to="1" aria-label="Testimonial 2"></button>
                <button type="button" data-bs-target="#testimonialsCarousel" data-bs-slide-to="2" aria-label="Testimonial 3"></button>
                <button type="button" data-bs-target="#testimonialsCarousel" data-bs-slide-to="3" aria-label="Testimonial 4"></button>
                <button type="button" data-bs-target="#testimonialsCarousel" data-bs-slide-to="4" aria-label="Testimonial 5"></button>
            </div>
            <!-- Carousel Items -->
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <div class="testimonial-card">
                        <p class="testimonial-text" data-key="testimonial1_text">"An exceptional developer who consistently delivers high-quality work."</p>
                        <p class="testimonial-author" data-key="testimonial1_author">- Jane Doe, Project Manager</p>
                    </div>
                </div>
                <div class="carousel-item">
                    <div class="testimonial-card">
                        <p class="testimonial-text" data-key="testimonial2_text">"A true team player with a knack for problem-solving."</p>
                        <p class="testimonial-author" data-key="testimonial2_author">- John Smith, Team Lead</p>
                    </div>
                </div>
                <div class="carousel-item">
                    <div class="testimonial-card">
                        <p class="testimonial-text" data-key="testimonial3_text">"His expertise in backend development has been invaluable to our projects."</p>
                        <p class="testimonial-author" data-key="testimonial3_author">- Alice Johnson, CTO</p>
                    </div>
                </div>
                <div class="carousel-item">
                    <div class="testimonial-card">
                        <p class="testimonial-text" data-key="testimonial4_text">"Innovative and reliable, always meeting deadlines with excellence."</p>
                        <p class="testimonial-author" data-key="testimonial4_author">- Michael Brown, CEO</p>
                    </div>
                </div>
                <div class="carousel-item">
                    <div class="testimonial-card">
                        <p class="testimonial-text" data-key="testimonial5_text">"A pleasure to work with, bringing creativity and dedication to every task."</p>
                        <p class="testimonial-author" data-key="testimonial5_author">- Emily Davis, Lead Designer</p>
                    </div>
                </div>
            </div>
            <!-- Controls -->
            <button class="carousel-control-prev" type="button" data-bs-target="#testimonialsCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden" data-key="carousel_prev">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#testimonialsCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden" data-key="carousel_next">Next</span>
            </button>
        </div>
    </section>

    <!-- Contact Section with Downloadable Resume Button -->
    <section id="contact" class="container py-5">
        <h2 class="section-heading" data-key="contact_title">Contact</h2>
        <div class="card-custom">
            <form id="contactForm" novalidate>
                <div class="mb-3">
                    <label for="contactName" class="form-label" data-key="contact_name_label">Name<span class="text-danger">*</span></label>
                    <input type="text" class="form-control" id="contactName" required data-key="contact_name_placeholder">
                    <div class="invalid-feedback" data-key="contact_name_invalid">Please enter your name.</div>
                </div>
                <div class="mb-3">
                    <label for="contactEmail" class="form-label" data-key="contact_email_label">Email<span class="text-danger">*</span></label>
                    <input type="email" class="form-control" id="contactEmail" required data-key="contact_email_placeholder">
                    <div class="invalid-feedback" data-key="contact_email_invalid">Please enter a valid email.</div>
                </div>
                <div class="mb-3">
                    <label for="contactMessage" class="form-label" data-key="contact_message_label">Message<span class="text-danger">*</span></label>
                    <textarea class="form-control" id="contactMessage" rows="5" required data-key="contact_message_placeholder"></textarea>
                    <div class="invalid-feedback" data-key="contact_message_invalid">Please enter your message.</div>
                </div>
                <button type="submit" class="btn btn-primary" data-key="contact_submit">Send</button>
                <!-- Download Resume Button -->
                <a href="path/to/your_resume.pdf" download class="btn btn-success ms-2" id="downloadResumeBtn" data-key="download_resume">Download Resume</a>
            </form>
        </div>
    </section>

    <!-- Bottom Sticky Navigation Bar -->
    <nav class="bottom-nav">
        <a class="nav-link active" href="#home" data-key="nav_home">
            <i class="bi bi-house"></i>
            <div>Home</div>
        </a>
        <a class="nav-link" href="#about" data-key="nav_about">
            <i class="bi bi-person"></i>
            <div>About</div>
        </a>
        <a class="nav-link" href="#skills-section" data-key="nav_skills">
            <i class="bi bi-star"></i>
            <div>Skills</div>
        </a>
        <a class="nav-link" href="#portfolio-section" data-key="nav_portfolio">
            <i class="bi bi-briefcase"></i>
            <div>Portfolio</div>
        </a>
        <a class="nav-link" href="#gig-section" data-key="nav_gigs">
            <i class="bi bi-music-note-beamed"></i>
            <div>Gigs</div>
        </a>
        <a class="nav-link" href="#testimonials-section" data-key="nav_testimonials">
            <i class="bi bi-chat-left-text"></i>
            <div>Testimonials</div>
        </a>
        <a class="nav-link" href="#faq-section" data-key="nav_faq">
            <i class="bi bi-question-circle"></i>
            <div>FAQ</div>
        </a>
        <a class="nav-link" href="#contact" data-key="nav_contact">
            <i class="bi bi-envelope"></i>
            <div>Contact</div>
        </a>
    </nav>

    <!-- Footer -->
    <footer class="container-fluid py-3 border-top text-center">
        &copy; <span id="year"></span> UK-based Software Engineer. All rights reserved.
    </footer>

    <!-- JSON Data for Multi-language Support -->
    <script id="langData" type="application/json">
    {
        "en": {
            "dark_mode_label": "Dark Mode",
            "greeting": "Hello!",
            "welcome_message": "Welcome to my portfolio.",
            "submit_button": "Submit",
            "personalized_greeting": "",
            "about_title": "About Me",
            "about_description": "I'm a UK-based Software Engineer with a passion for developing innovative programs that expedite the efficiency and effectiveness of organizational success. Well-versed in technology and writing code to create reliable and user-friendly systems.",
            "skills_title": "Skills",
            "faq_title": "Frequently Asked Questions",
            "faq1_question": "What technologies do you specialize in?",
            "faq1_answer": "I specialize in backend development using C#, SQL, and modern web technologies like JavaScript and Node.js.",
            "faq2_question": "How do you handle project deadlines?",
            "faq2_answer": "I prioritize tasks effectively, communicate transparently with stakeholders, and utilize project management tools to ensure deadlines are met.",
            "faq3_question": "Can you work remotely?",
            "faq3_answer": "Yes, I have extensive experience working remotely and can collaborate effectively with teams across different time zones.",
            "faq4_question": "Do you offer support after project completion?",
            "faq4_answer": "Absolutely, I provide ongoing support and maintenance to ensure that your projects continue to run smoothly.",
            "faq5_question": "What is your approach to learning new technologies?",
            "faq5_answer": "I stay updated with industry trends, engage in continuous learning through courses and projects, and actively participate in developer communities.",
            "portfolio_title": "Portfolio",
            "portfolio1_image_alt": "Project 1",
            "portfolio1_title": "Project Title 1",
            "portfolio1_description": "Short description of Project 1.",
            "portfolio1_view": "View Project",
            "portfolio2_image_alt": "Project 2",
            "portfolio2_title": "Project Title 2",
            "portfolio2_description": "Short description of Project 2.",
            "portfolio2_view": "View Project",
            "portfolio3_image_alt": "Project 3",
            "portfolio3_title": "Project Title 3",
            "portfolio3_description": "Short description of Project 3.",
            "portfolio3_view": "View Project",
            "gig_title": "Gig Tracker",
            "gig_search_placeholder": "Search by location...",
            "gig_clear_search": "Clear Search",
            "gig_past_2024": "Past Gigs (2024)",
            "gig_festivals": "Past Festivals",
            "gig_upcoming_2024": "Upcoming (2024)",
            "gig_upcoming_2025": "Upcoming (2025)",
            "testimonials_title": "Testimonials",
            "testimonial1_text": "\"An exceptional developer who consistently delivers high-quality work.\"",
            "testimonial1_author": "- Jane Doe, Project Manager",
            "testimonial2_text": "\"A true team player with a knack for problem-solving.\"",
            "testimonial2_author": "- John Smith, Team Lead",
            "testimonial3_text": "\"His expertise in backend development has been invaluable to our projects.\"",
            "testimonial3_author": "- Alice Johnson, CTO",
            "testimonial4_text": "\"Innovative and reliable, always meeting deadlines with excellence.\"",
            "testimonial4_author": "- Michael Brown, CEO",
            "testimonial5_text": "\"A pleasure to work with, bringing creativity and dedication to every task.\"",
            "testimonial5_author": "- Emily Davis, Lead Designer",
            "carousel_prev": "Previous",
            "carousel_next": "Next",
            "contact_title": "Contact",
            "contact_name_label": "Name",
            "contact_name_placeholder": "Enter your name",
            "contact_name_invalid": "Please enter your name.",
            "contact_email_label": "Email",
            "contact_email_placeholder": "Enter your email",
            "contact_email_invalid": "Please enter a valid email.",
            "contact_message_label": "Message",
            "contact_message_placeholder": "Enter your message",
            "contact_message_invalid": "Please enter your message.",
            "contact_submit": "Send",
            "contact_submit_success": "Thank you for your message!",
            "download_resume": "Download Resume",
            "nav_home": "Home",
            "nav_about": "About",
            "nav_skills": "Skills",
            "nav_portfolio": "Portfolio",
            "nav_gigs": "Gigs",
            "nav_testimonials": "Testimonials",
            "nav_faq": "FAQ",
            "nav_contact": "Contact",
            "gig_no_gigs": "No gigs available."
        }
        // Additional languages can be added here
    }
    </script>

    <!-- JavaScript to Handle Dynamic Content and Functionality -->
    <script 
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" 
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" 
        crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.3.0/dist/chart.umd.min.js"></script>
    <script>
        // Language Data
        const langData = JSON.parse(document.getElementById('langData').textContent);
        const currentLang = 'en'; // This can be dynamically set based on user preference

        // Function to Populate Text Content Based on JSON Data
        function populateTextContent(lang) {
            const elements = document.querySelectorAll('[data-key]');
            elements.forEach(el => {
                const key = el.getAttribute('data-key');
                if (langData[lang][key]) {
                    if (el.tagName.toLowerCase() === 'input' || el.tagName.toLowerCase() === 'textarea') {
                        el.setAttribute('placeholder', langData[lang][key]);
                    } else if (el.tagName.toLowerCase() === 'label') {
                        el.textContent = langData[lang][key];
                    } else {
                        el.textContent = langData[lang][key];
                    }
                }
            });
        }

        // Initial Population
        populateTextContent(currentLang);

        // Dark Mode Toggle
        const body = document.body;
        const darkModeSwitch = document.getElementById('darkModeSwitch');
        const storedDarkMode = localStorage.getItem('darkMode');

        if (storedDarkMode === 'true') {
            body.classList.add('dark-mode');
            darkModeSwitch.checked = true;
        }

        darkModeSwitch.addEventListener('change', () => {
            const isDark = darkModeSwitch.checked;
            body.classList.toggle('dark-mode', isDark);
            localStorage.setItem('darkMode', isDark);
        });

        // Greeting and Visitor Name
        const greetingEl = document.querySelector('[data-key="greeting"]');
        const currentHour = new Date().getHours();
        const greetings = {
            "morning": "Good morning",
            "afternoon": "Good afternoon",
            "evening": "Good evening"
        };
        let greetingText = "Hello";

        if (currentHour < 12) {
            greetingText = greetings.morning;
        } else if (currentHour < 18) {
            greetingText = greetings.afternoon;
        } else {
            greetingText = greetings.evening;
        }

        greetingEl.textContent = `${greetingText}!`;

        const visitorNameInput = document.getElementById('visitor-name-input');
        const visitorNameForm = document.getElementById('visitor-name-form');
        const visitorNamePlaceholder = document.getElementById('visitorNamePlaceholder');
        const storedName = localStorage.getItem('visitorName');

        if (storedName) {
            setVisitorName(storedName);
        }

        visitorNameForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const name = visitorNameInput.value.trim();
            if (name) {
                localStorage.setItem('visitorName', name);
                setVisitorName(name);
                visitorNameInput.value = '';
            }
        });

        function setVisitorName(name) {
            let displayName = name;
            const lowerName = name.toLowerCase();
            if (lowerName.includes("daniel") || lowerName.includes("denise")) {
                displayName = "silly goose";
            }
            visitorNamePlaceholder.textContent = `, ${displayName}`;
        }

        // Update Footer Year
        document.getElementById('year').textContent = new Date().getFullYear();

        // Render Gigs from JSON Data
        const gigsData = {
            "past2024": [
                {"date":"June 10 (Ritz)","location":"Ritz","description":"Mt. Joy"},
                {"date":"July 10 (Co-Op)","location":"Co-Op","description":"Kings of Leon"},
                {"date":"August 8","location":"","description":"Pete Doherty"},
                {"date":"August 24 (Wythenshawe Park)","location":"Wythenshawe Park","description":"New Order + Johnny Marr"},
                {"date":"August 25 (Wythenshawe Park)","location":"Wythenshawe Park","description":"Blossoms"},
                {"date":"September 1 (Apollo)","location":"Apollo","description":"girl in red"},
                {"date":"September 28 (Apollo)","location":"Apollo","description":"Sea Girls"},
                {"date":"October 1 (Albert Hall)","location":"Albert Hall","description":"The Struts"},
                {"date":"October 2 (Apollo)","location":"Apollo","description":"Driver Era"},
                {"date":"October 4 (Apollo)","location":"Apollo","description":"Aurora"},
                {"date":"October 5 (Manchester)","location":"Manchester","description":"Neighbourhood Festival: Red Rum Club, Brooke Combe, Antony Szmierek"},
                {"date":"October 11 (New Century Hall)","location":"New Century Hall","description":"Saint Motel"},
                {"date":"October 15 (Yes Basement)","location":"Yes Basement","description":"Leap"},
                {"date":"November 2 (Co-Op)","location":"Co-Op","description":"Glass Animals"},
                {"date":"November 4 (Plaza Stockport)","location":"Plaza Stockport","description":"Blossoms"},
                {"date":"November 7 (Yes Basement)","location":"Yes Basement","description":"Jack Jones"},
                {"date":"November 20 (Ritz)","location":"Ritz","description":"Blossoms"}
            ],
            "festivals": [
                {
                    "date":"Bonnaroo 2024 (Manchester, Tennessee)",
                    "location":"Manchester, Tennessee",
                    "description":"Acts: Pretty Lights, FISHER, GWAR, Post Malone, Interpol, T-Pain, The Japanese House, Red Hot Chili Peppers, Cage the Elephant, Cigarettes After Sex, Fred again.., Megan Thee Stallion, Carly Rae Jepsen, Taking Back Sunday."
                },
                {
                    "date":"Lollapalooza 2023 (Chicago)",
                    "location":"Chicago",
                    "description":"Acts: Billie Eilish, Portugal. The Man, The 1975, Foals, Odesza, Red Hot Chili Peppers, Mt. Joy."
                }
            ],
            "upcoming2024": [
                {"date":"December 7 (Apollo/YES)","location":"Apollo/YES","description":"Idles + Idles DJ set"},
                {"date":"December 16 (Co-Op)","location":"Co-Op","description":"Paul Heaton"}
            ],
            "upcoming2025": [
                {"date":"February 14 (Apollo)","location":"Apollo","description":"Cage the Elephant"},
                {"date":"March 2 (Stockport)","location":"Stockport","description":"You Are Not Alone Festival"},
                {"date":"April 18 (Apollo)","location":"Apollo","description":"Finneas"},
                {"date":"June (Manchester, Tennessee)","location":"Manchester, Tennessee","description":"Bonnaroo"},
                {"date":"July 5 (Finsbury Park)","location":"Finsbury Park","description":"Fontaines D.C."}
            ]
        };

        function renderGigs(tabId, gigsArray) {
            const tabContent = document.getElementById(tabId);
            if (!tabContent) return;
            if (gigsArray.length === 0) {
                tabContent.innerHTML = '<p data-key="gig_no_gigs">No gigs available.</p>';
                populateTextContent(currentLang); // To populate the new text
                return;
            }
            tabContent.innerHTML = gigsArray.map(g =>
                `<div class="gig-card mb-3" data-location="${(g.location || '').toLowerCase()}">
                    <p class="gig-date fw-bold" data-key="gig_date">${g.date}</p>
                    <p class="gig-description" data-key="gig_description">${g.description}</p>
                </div>`
            ).join('');
        }

        // Initial Rendering of Gigs
        renderGigs('past2024', gigsData.past2024);
        renderGigs('festivals', gigsData.festivals);
        renderGigs('upcoming2024', gigsData.upcoming2024);
        renderGigs('upcoming2025', gigsData.upcoming2025);

        const gigSearch = document.getElementById('gigSearch');
        const clearSearchBtn = document.getElementById('clearSearchBtn');

        gigSearch.addEventListener('input', () => {
            const query = gigSearch.value.toLowerCase();
            document.querySelectorAll('.gig-card').forEach(card => {
                const loc = card.getAttribute('data-location') || '';
                if (loc.includes(query)) {
                    card.style.display = '';
                } else {
                    card.style.display = 'none';
                }
            });
        });

        clearSearchBtn.addEventListener('click', () => {
            gigSearch.value = '';
            document.querySelectorAll('.gig-card').forEach(card => {
                card.style.display = '';
            });
        });

        // Skills Radar Chart
        const ctx = document.getElementById('skillChart');
        if (ctx) {
            new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['C#', 'SQL', 'Git', 'Documentation', 'Process Improvement', 'Web Tech'],
                    datasets: [{
                        label: 'Proficiency',
                        data: [9, 8, 8, 9, 8, 7],
                        borderWidth: 2,
                        backgroundColor: 'rgba(13, 110, 253, 0.2)',
                        borderColor: 'rgba(13, 110, 253, 1)',
                        pointBackgroundColor: 'rgba(13, 110, 253, 1)'
                    }]
                },
                options: {
                    scales: {
                        r: {
                            suggestedMin: 0,
                            suggestedMax: 10,
                            ticks: {
                                stepSize: 2
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top'
                        }
                    },
                    responsive: true,
                    maintainAspectRatio: false
                }
            });
        }

        // Contact Form Validation
        const contactForm = document.getElementById('contactForm');
        contactForm.addEventListener('submit', function(event) {
            event.preventDefault();
            event.stopPropagation();

            if (contactForm.checkValidity()) {
                // Handle form submission (e.g., send email)
                alert(langData[currentLang]["contact_submit_success"] || "Thank you for your message!");
                contactForm.reset();
                visitorNamePlaceholder.textContent = '';
                localStorage.removeItem('visitorName');
                // Reset validation states
                contactForm.classList.remove('was-validated');
            }

            contactForm.classList.add('was-validated');
        }, false);

        // Lazy Loading Images
        document.addEventListener("DOMContentLoaded", function() {
            const lazyImages = document.querySelectorAll('img.lazy');

            const imageObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const img = entry.target;
                        img.src = img.src; // Assuming src is already set; otherwise set data-src
                        img.classList.remove('lazy');
                        observer.unobserve(img);
                    }
                });
            });

            lazyImages.forEach(img => {
                imageObserver.observe(img);
            });
        });

        // Smooth Scrolling
        document.querySelectorAll('.bottom-nav a').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href').substring(1);
                const targetSection = document.getElementById(targetId);
                if (targetSection) {
                    window.scrollTo({
                        top: targetSection.offsetTop - 60, // Adjust for nav height
                        behavior: 'smooth'
                    });
                    // Update active link
                    document.querySelectorAll('.bottom-nav a').forEach(link => link.classList.remove('active'));
                    this.classList.add('active');
                }
            });
        });

        // Highlight Active Nav Link on Scroll
        window.addEventListener('scroll', () => {
            const scrollPosition = document.documentElement.scrollTop || document.body.scrollTop;
            document.querySelectorAll('.bottom-nav a').forEach(link => {
                const section = document.querySelector(link.getAttribute('href'));
                if (section) {
                    if (scrollPosition >= section.offsetTop - 70 && scrollPosition < section.offsetTop + section.offsetHeight - 70) {
                        link.classList.add('active');
                    } else {
                        link.classList.remove('active');
                    }
                }
            });
        });
    </script>
</body>
</html>
