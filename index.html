<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gig Tracker</title>
    
    <!-- CSS Styles -->
    <style>
        /* CSS Variables for Theming */
        :root {
            --background-color: #ffffff;
            --text-color: #000000;
            --primary-color: #0d6efd;
            --secondary-color: #6c757d;
            --card-background: #f8f9fa;
            --border-color: #dee2e6;
            --error-color: #dc3545;
            --focus-color: var(--primary-color);
            --transition-speed: 0.3s;
        }

        /* Dark Mode Overrides */
        .dark-mode {
            --background-color: #121212;
            --text-color: #ffffff;
            --card-background: #1e1e1e;
            --border-color: #495057;
        }

        /* General Styles */
        body {
            font-family: Arial, sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            margin: 0;
            padding: 0;
            transition: background-color var(--transition-speed), color var(--transition-speed);
        }

        header {
            background-color: var(--primary-color);
            color: #ffffff;
            padding: 1.5rem;
            text-align: center;
        }

        main {
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        h1, h2 {
            margin-bottom: 1rem;
        }

        /* Dark Mode Toggle */
        .dark-mode-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1001;
        }

        /* Toggle Switch Styles */
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: background-color var(--transition-speed);
            border-radius: 24px;
        }

        .slider::before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: transform var(--transition-speed);
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: var(--primary-color);
        }

        input:checked + .slider::before {
            transform: translateX(26px);
        }

        /* Gig Tracker Section */
        #gig-tracker {
            background-color: var(--card-background);
            padding: 2rem;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: background-color var(--transition-speed), border-color var(--transition-speed);
        }

        /* Search Bar */
        .search-bar {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 1rem;
        }

        .search-bar input {
            flex: 1;
            padding: 0.5rem;
            font-size: 1rem;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            transition: border-color var(--transition-speed), box-shadow var(--transition-speed);
        }

        .search-bar input:focus {
            border-color: var(--focus-color);
            outline: none;
            box-shadow: 0 0 5px var(--focus-color);
        }

        .search-bar button {
            padding: 0.5rem 1rem;
            font-size: 1rem;
            background-color: var(--secondary-color);
            color: #ffffff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color var(--transition-speed);
        }

        .search-bar button:hover {
            background-color: #5a6268; /* Darkened secondary color */
        }

        /* Tabs */
        .gig-tabs {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .gig-tab {
            padding: 0.5rem 1rem;
            background-color: var(--secondary-color);
            color: #ffffff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color var(--transition-speed), color var(--transition-speed);
        }

        .gig-tab.active, .gig-tab:hover {
            background-color: var(--primary-color);
            color: #ffffff;
        }

        /* Gig List */
        .gig-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }

        .gig-card {
            background-color: var(--background-color);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1rem;
            transition: background-color var(--transition-speed), border-color var(--transition-speed);
        }

        .gig-card__date {
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .gig-tabs {
                flex-direction: column;
                align-items: center;
            }
        }

        @media (max-width: 480px) {
            .gig-tab {
                width: 100%;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <!-- Dark Mode Toggle -->
    <div class="dark-mode-toggle">
        <label class="switch" aria-label="Toggle Dark Mode">
            <input type="checkbox" id="darkModeSwitch">
            <span class="slider"></span>
        </label>
    </div>

    <!-- Header Section -->
    <header>
        <h1>Gig Tracker</h1>
    </header>

    <!-- Main Content -->
    <main>
        <section id="gig-tracker">
            <h2>Manage Your Gigs</h2>
            <!-- Search Bar -->
            <div class="search-bar">
                <input type="text" id="gigSearch" placeholder="Search by location..." aria-label="Search gigs by location">
                <button id="clearSearchBtn">Clear Search</button>
            </div>
            <!-- Tabs -->
            <div class="gig-tabs">
                <button class="gig-tab active" data-tab="past2024">Past Gigs (2024)</button>
                <button class="gig-tab" data-tab="festivals">Past Festivals</button>
                <button class="gig-tab" data-tab="upcoming2024">Upcoming (2024)</button>
                <button class="gig-tab" data-tab="upcoming2025">Upcoming (2025)</button>
            </div>
            <!-- Gig Lists -->
            <div class="gig-list-container">
                <div class="gig-list active" id="past2024"></div>
                <div class="gig-list" id="festivals"></div>
                <div class="gig-list" id="upcoming2024"></div>
                <div class="gig-list" id="upcoming2025"></div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer style="text-align:center; padding:1rem; background-color:var(--card-background); border-top:1px solid var(--border-color);">
        &copy; <span id="year"></span> Gig Tracker. All rights reserved.
    </footer>

    <!-- JSON Data for Gigs -->
    <script id="gigData" type="application/json">
    {
        "past2024": [
            {"date":"June 10 (Ritz)","location":"Ritz","description":"Mt. Joy"},
            {"date":"July 10 (Co-Op)","location":"Co-Op","description":"Kings of Leon"},
            {"date":"August 8","location":"","description":"Pete Doherty"},
            {"date":"August 24 (Wythenshawe Park)","location":"Wythenshawe Park","description":"New Order + Johnny Marr"},
            {"date":"August 25 (Wythenshawe Park)","location":"Wythenshawe Park","description":"Blossoms"},
            {"date":"September 1 (Apollo)","location":"Apollo","description":"girl in red"},
            {"date":"September 28 (Apollo)","location":"Apollo","description":"Sea Girls"},
            {"date":"October 1 (Albert Hall)","location":"Albert Hall","description":"The Struts"},
            {"date":"October 2 (Apollo)","location":"Apollo","description":"Driver Era"},
            {"date":"October 4 (Apollo)","location":"Apollo","description":"Aurora"},
            {"date":"October 5 (Manchester)","location":"Manchester","description":"Neighbourhood Festival: Red Rum Club, Brooke Combe, Antony Szmierek"},
            {"date":"October 11 (New Century Hall)","location":"New Century Hall","description":"Saint Motel"},
            {"date":"October 15 (Yes Basement)","location":"Yes Basement","description":"Leap"},
            {"date":"November 2 (Co-Op)","location":"Co-Op","description":"Glass Animals"},
            {"date":"November 4 (Plaza Stockport)","location":"Plaza Stockport","description":"Blossoms"},
            {"date":"November 7 (Yes Basement)","location":"Yes Basement","description":"Jack Jones"},
            {"date":"November 20 (Ritz)","location":"Ritz","description":"Blossoms"}
        ],
        "festivals": [
            {
                "date":"Bonnaroo 2024 (Manchester, Tennessee)",
                "location":"Manchester, Tennessee",
                "description":"Acts: Pretty Lights, FISHER, GWAR, Post Malone, Interpol, T-Pain, The Japanese House, Red Hot Chili Peppers, Cage the Elephant, Cigarettes After Sex, Fred again.., Megan Thee Stallion, Carly Rae Jepsen, Taking Back Sunday."
            },
            {
                "date":"Lollapalooza 2023 (Chicago)",
                "location":"Chicago",
                "description":"Acts: Billie Eilish, Portugal. The Man, The 1975, Foals, Odesza, Red Hot Chili Peppers, Mt. Joy."
            }
        ],
        "upcoming2024": [
            {"date":"December 7 (Apollo/YES)","location":"Apollo/YES","description":"Idles + Idles DJ set"},
            {"date":"December 16 (Co-Op)","location":"Co-Op","description":"Paul Heaton"}
        ],
        "upcoming2025": [
            {"date":"February 14 (Apollo)","location":"Apollo","description":"Cage the Elephant"},
            {"date":"March 2 (Stockport)","location":"Stockport","description":"You Are Not Alone Festival"},
            {"date":"April 18 (Apollo)","location":"Apollo","description":"Finneas"},
            {"date":"June (Manchester, Tennessee)","location":"Manchester, Tennessee","description":"Bonnaroo"},
            {"date":"July 5 (Finsbury Park)","location":"Finsbury Park","description":"Fontaines D.C."}
        ]
    }
    </script>

    <!-- JavaScript for Functionality -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize Footer Year
            document.getElementById('year').textContent = new Date().getFullYear();

            // Dark Mode Toggle
            const body = document.body;
            const darkModeSwitch = document.getElementById('darkModeSwitch');
            const storedDarkMode = localStorage.getItem('darkMode') === 'true';

            if (storedDarkMode) {
                body.classList.add('dark-mode');
                darkModeSwitch.checked = true;
            }

            darkModeSwitch.addEventListener('change', () => {
                const isDark = darkModeSwitch.checked;
                body.classList.toggle('dark-mode', isDark);
                localStorage.setItem('darkMode', isDark);
            });

            // Load Gig Data
            const gigData = JSON.parse(document.getElementById('gigData').textContent);

            // Render Gigs Function
            const renderGigs = (tabId, gigs) => {
                const gigList = document.getElementById(tabId);
                gigList.innerHTML = gigs.length ? gigs.map(gig => `
                    <div class="gig-card">
                        <p class="gig-card__date">${gig.date}</p>
                        <p class="gig-card__description">${gig.description}</p>
                        ${gig.location ? `<p class="gig-card__location"><strong>Location:</strong> ${gig.location}</p>` : ''}
                    </div>
                `).join('') : `<p>No gigs available.</p>`;
            };

            // Initial Render
            Object.keys(gigData).forEach(tab => renderGigs(tab, gigData[tab]));

            // Tab Functionality
            const gigTabs = document.querySelectorAll('.gig-tab');
            const gigLists = document.querySelectorAll('.gig-list');

            gigTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    // Remove active class from all tabs
                    gigTabs.forEach(t => t.classList.remove('active'));
                    // Hide all gig lists
                    gigLists.forEach(list => list.classList.remove('active'));
                    // Add active class to clicked tab
                    tab.classList.add('active');
                    // Show corresponding gig list
                    const tabId = tab.getAttribute('data-tab');
                    document.getElementById(tabId).classList.add('active');
                });
            });

            // Search Functionality
            const gigSearch = document.getElementById('gigSearch');
            const clearSearchBtn = document.getElementById('clearSearchBtn');

            gigSearch.addEventListener('input', () => {
                const query = gigSearch.value.toLowerCase();
                gigLists.forEach(list => {
                    const gigs = gigData[list.id];
                    const filteredGigs = gigs.filter(gig => gig.location.toLowerCase().includes(query));
                    renderGigs(list.id, filteredGigs);
                });
            });

            clearSearchBtn.addEventListener('click', () => {
                gigSearch.value = '';
                gigLists.forEach(tab => renderGigs(tab.id, gigData[tab.id]));
            });
        });
    </script>
</body>
</html>
